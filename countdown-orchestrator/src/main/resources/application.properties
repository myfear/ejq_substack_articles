# =========================================================
# Global New Year Orchestrator - Quarkus Configuration
# =========================================================

# --- Datasource (PostgreSQL via Dev Services) -----------
# Dev Services will automatically start a PostgreSQL container
# when running `mvn quarkus:dev` if no URL/credentials are set.
# We only specify the kind.
quarkus.datasource.db-kind=postgresql

# For the tutorial: drop and recreate schema on each start.
# In production you would use ‘validate’ or ‘update’ and
# manage schema with Flyway or Liquibase.
quarkus.hibernate-orm.schema-management.strategy=drop-and-create

# --- Quartz Scheduler -----------------------------------
# Use JDBC-backed store so jobs survive restarts.
quarkus.quartz.store-type=jdbc-cmt
quarkus.quartz.clustered=true


# Start the scheduler even if there are no @Scheduled methods.
# We use only programmatic scheduling via Quartz.
quarkus.scheduler.start-mode=forced

# --- WebSocket ------------------------------------------
quarkus.websocket.max-frame-size=102400

# --- Logging --------------------------------------------
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# --- Dev Mode Convenience -------------------------------
# Optionally show SQL in the logs while developing.
#quarkus.hibernate-orm.log.sql=true

# --- Example Production Datasource (commented) ----------
# When you deploy, you can add a real PostgreSQL config under
# the %prod profile and still keep Dev Services locally.
#
#%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://db-host:5432/newyear
#%prod.quarkus.datasource.username=newyear
#%prod.quarkus.datasource.password=change-me
#%prod.quarkus.hibernate-orm.database.generation=validate
