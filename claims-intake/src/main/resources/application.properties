# --- Channel Configuration ---
# Outgoing channels use topic names, incoming channels use stage names
# Both map to the same Kafka topics

# Stage 1: ClaimResource -> ClaimValidator (topic: claims-submitted)
mp.messaging.outgoing.claims-submitted.connector=smallrye-kafka
mp.messaging.outgoing.claims-submitted.topic=claims-submitted
mp.messaging.incoming.submitted.connector=smallrye-kafka
mp.messaging.incoming.submitted.topic=claims-submitted
mp.messaging.incoming.submitted.failure-strategy=ignore

# Stage 2: ClaimValidator -> ClaimEnricher (topic: claims-validated)
mp.messaging.outgoing.claims-validated.connector=smallrye-kafka
mp.messaging.outgoing.claims-validated.topic=claims-validated
mp.messaging.incoming.validated.connector=smallrye-kafka
mp.messaging.incoming.validated.topic=claims-validated
mp.messaging.incoming.validated.value.deserializer=com.acme.claims.events.ClaimValidatedDeserializer
mp.messaging.incoming.validated.failure-strategy=dead-letter-queue
mp.messaging.incoming.validated.dead-letter-queue.topic=claims-enrichment-dlq
mp.messaging.incoming.validated.dead-letter-queue.value.serializer=com.acme.claims.events.ClaimValidatedSerializer
mp.messaging.incoming.validated.dead-letter-queue.key.serializer=org.apache.kafka.common.serialization.StringSerializer

# Stage 3: ClaimEnricher -> ClaimPersister (topic: claims-enriched)
mp.messaging.outgoing.claims-enriched.connector=smallrye-kafka
mp.messaging.outgoing.claims-enriched.topic=claims-enriched
mp.messaging.incoming.enriched.connector=smallrye-kafka
mp.messaging.incoming.enriched.topic=claims-enriched

# Stage 4: ClaimPersister -> NotificationService (topic: claims-accepted)
mp.messaging.outgoing.claims-accepted.connector=smallrye-kafka
mp.messaging.outgoing.claims-accepted.topic=claims-accepted
mp.messaging.incoming.accepted.connector=smallrye-kafka
mp.messaging.incoming.accepted.topic=claims-accepted